
<!DOCTYPE html>
<html>
<head>
<base target='_top'>
</head>
<body>
<div id='countDownParagraph' style="text-align: center; font-size: 700%;"></div>
<script>
var x = setInterval(function() {
var dateNow = new Date();
var year = dateNow.getFullYear();
var month = dateNow.getMonth();
var day = dateNow.getDate();
if (day < 8 && dateNow.getDay() == 3) { // first Wednesday of the month
    var one = new Date(year, month, day, 9, 3, 0);
    var two = new Date(year, month, day, 9, 29, 0);
    var three = new Date(year, month, day, 9, 55, 0);
    var four = new Date(year, month, day, 10, 36, 0);
    var five = new Date(year, month, day, 11, 2, 0);
    var six = new Date(year, month, day, 11, 28, 0);
    var seven = new Date(year, month, day, 11, 54, 0);
    var lunch1 = new Date(year, month, day, 12, 24, 0);
    var lunch2 = new Date(year, month, day, 12, 54, 0);
    var eight = new Date(year, month, day, 13, 20, 0);
    var nine = new Date(year, month, day, 13, 46, 0);
    var ten = new Date(year, month, day, 14, 12, 0);
} else {
    var one = new Date(year, month, day, 9, 9, 0);
    var two = new Date(year, month, day, 9, 41, 0);
    var three = new Date(year, month, day, 10, 13, 0);
    var four = new Date(year, month, day, 11, 02, 0);
    var five = new Date(year, month, day, 11, 34, 0);
    var six = new Date(year, month, day, 12, 6, 0);
    var lunch1 = new Date(year, month, day, 12, 28, 0);
    var lunch2 = new Date(year, month, day, 12, 51, 0);
    var seven = new Date(year, month, day, 13, 23, 0);
    var eight = new Date(year, month, day, 13, 53, 0);
    var nine = new Date(year, month, day, 14, 40, 0);
    var ten = new Date(year, month, day, 15, 12, 0);
}

var difference = one - dateNow;
var period = "Period 1";
if (difference < 0) {difference = two - dateNow; period = "Period 2";}
if (difference < 0) {difference = three - dateNow; period = "Period 3";}
if (difference < 0) {difference = four - dateNow; period = "Period 4";}
if (difference < 0) {difference = five - dateNow; period = "Period 5";}
if (difference < 0) {difference = six - dateNow; period = "Period 6";}
if (difference < 0) {difference = lunch1 - dateNow; period = "Lunch / Recess";}
if (difference < 0) {difference = lunch2 - dateNow; period = "Lunch / Recess";}
if (difference < 0) {difference = seven - dateNow; period = "Period 7";}
if (difference < 0) {difference = eight - dateNow; period = "Period 8";}
if (difference < 0) {difference = nine - dateNow; period = "Period 9";}
if (difference < 0) {difference = ten - dateNow; period = "Period 10";}

var hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
var minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
var seconds = Math.floor((difference % (1000 * 60)) / 1000);
if (seconds < 10) {seconds = "0" + seconds;}
var displayDateTime = dateNow.toString().split(" GMT")[0];
if (hours == 5 && minutes == 30 && seconds == 30) {location.reload(true);} // reload each morning for an update
if (hours < 0) {document.getElementById('countDownParagraph').style.color='grey';document.body.style.backgroundColor='black';}
else {document.getElementById('countDownParagraph').style.color='black';}
if (hours > 0) {var countDownString = hours + " h and " + minutes + " m ";}
else {var countDownString = minutes + ":" + seconds;}
if (hours == 0 && minutes < 2) {document.getElementById('countDownParagraph').style.color='red';} // set text color to red if < 2 minutes

if (day < 8 && dateNow.getDay() == 3) { // first Wednesday of the month
    var ur = three - dateNow;
    if (ur < 0) {ur = seven - dateNow;}
    if (ur < 0) {ur = ten - dateNow;}
}
else {
    var ur = three - dateNow;
    if (ur < 0) {ur = six - dateNow;}
    if (ur < 0) {ur = eight - dateNow;}
    if (ur < 0) {ur = ten - dateNow;}
}
var hur = Math.floor((ur % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
var mur = Math.floor((ur % (1000 * 60 * 60)) / (1000 * 60));
var sur = Math.floor((ur % (1000 * 60)) / 1000);
if (hur > 0) {var untilRecess = hur + " h and " + mur + " m until break";}
else if (mur > 30) {var untilRecess = mur + ":" + sur + " until break";}
else {var untilRecess = "";}

document.getElementById('countDownParagraph').innerHTML = displayDateTime + "<div style='color:blue'>"+ period + "</div>" + countDownString + "<div style='color:yellow'>" + untilRecess + "</div>";
}, 1000); // updating setInterval every 1000 milliseconds
</script>
</body>
</html>